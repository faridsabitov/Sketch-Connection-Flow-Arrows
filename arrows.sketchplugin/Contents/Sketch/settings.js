var that=this;function __skpm_run(e,t){that.context=t;var r=function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/settings.js")}({"./src/settings.js":
/*!*************************!*\
  !*** ./src/settings.js ***!
  \*************************/
/*! exports provided: settings */function(e,r,a){"use strict";a.r(r),a.d(r,"settings",function(){return c});var i=a(/*! sketch */"sketch"),n=a.n(i),l=a(/*! ./utilities/styling.js */"./src/utilities/styling.js"),o=a(/*! sketch/ui */"sketch/ui"),s=a(/*! sketch/settings */"sketch/settings"),u="flowArrows",d=(n.a.fromNative(t.document),t.document.documentData());function c(e){var t=COSAlertWindow.new();t=function(e,t,r){return e.setMessageText("Arrow Plugin Settings"),e.addButtonWithTitle("Update Settings"),e.addButtonWithTitle("Cancel"),e}(t);var r=NSView.alloc().initWithFrame(NSMakeRect(0,0,300,500));t.addAccessoryView(r);var a=f("Arrow Style",!0,-1,460,280,40);r.addSubview(a);var i=NSPopUpButton.alloc().initWithFrame(NSMakeRect(-2,460,300,20));S(i),r.addSubview(i);var n=f("Add layer style to your document that will contain $arrow name and you will be able to specify it here ",!1,-1,420,300,40);r.addSubview(n);var l=f("Arrow Type",!0,-1,370,280,40);r.addSubview(l);var c=NSPopUpButton.alloc().initWithFrame(NSMakeRect(-2,370,300,20));!function(e){var t=s.settingForKey("arrowType");t?("Angled"==t&&(e.addItemWithTitle("Angled"),e.lastItem().setState(1),e.addItemWithTitle("Curved"),e.lastItem().setState(0),e.addItemWithTitle("Straight"),e.lastItem().setState(0)),"Curved"==t&&(e.addItemWithTitle("Curved"),e.lastItem().setState(1),e.addItemWithTitle("Straight"),e.lastItem().setState(0),e.addItemWithTitle("Angled"),e.lastItem().setState(0)),"Straight"==t&&(e.addItemWithTitle("Straight"),e.lastItem().setState(1),e.addItemWithTitle("Angled"),e.lastItem().setState(0),e.addItemWithTitle("Curved"),e.lastItem().setState(0))):(e.addItemWithTitle("Angled"),e.addItemWithTitle("Curved"),e.addItemWithTitle("Straight"))}(c),r.addSubview(c);var y=f("Select one of the arrow types. Angled is used by default",!1,-1,330,300,40);r.addSubview(y);var h=f("Arrow Spacing",!0,-1,300,330,20);r.addSubview(h);var m=f("px",!0,90,280,330,20);r.addSubview(m);var g=NSTextField.alloc().initWithFrame(NSMakeRect(-2,280,80,20)),w=NSNumberFormatter.alloc().init().autorelease();g.setStringValue(String(s.settingForKey("arrowSpacing"))),g.setFormatter(w),r.addSubview(g);var p=NSStepper.alloc().initWithFrame(NSMakeRect(70,280,20,20));p.setMaxValue(1e3),p.setMinValue(0),p.setValueWraps(!1),p.setAutorepeat(!0),p.setCOSJSTargetFunction(function(e){var t=0+e.integerValue();g.setStringValue(String(t))}),r.addSubview(p);var b=f("The second layer will be moved closer based on the value provided here. Keep it 0 if you don't want to have auto spacing feature ",!1,-1,215,300,60);r.addSubview(b);var T=f("Other Settings",!0,-1,170,280,40);r.addSubview(T);var I=v("Second layer auto-align","autoAlign",-1,160,260,40);r.addSubview(I);var W=f("Align the second layer for 5px misalignment with the first one",!1,-1,130,280,40);r.addSubview(W);var _=v("Redraw arrows after moving/resizing layers","autoDraw",-1,90,300,40);r.addSubview(_);var k=f("If you have performance issues, try to turn this option off",!1,-1,60,280,40);r.addSubview(k);var F=f("Made by @faridSabitov with the support of EPAM.com ‚ù§Ô∏è",!0,-1,10,280,40);r.addSubview(F),t.runModal()==NSAlertFirstButtonReturn&&(e.command.setValue_forKey_onLayer_forPluginIdentifier(t.views()[0].subviews()[1].title(),"arrowStyle",d,u),s.setSettingForKey("arrowType",t.views()[0].subviews()[4].title()),s.setSettingForKey("arrowSpacing",t.views()[0].subviews()[8].intValue()),s.setSettingForKey("autoAlign",t.views()[0].subviews()[12].state()),s.setSettingForKey("autoDraw",t.views()[0].subviews()[14].state()),o.message("Settings are updated üöÄ"))}function S(e){var r=t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",d,u),a=Object(l.getLayerStyles)(null,d);if(r)if("Default Style"!=r){e.addItemWithTitle(r),e.addItemWithTitle("Default Style");for(var i=0;i<a.length;i++)a[i].name()!=r&&e.addItemWithTitle(a[i].name())}else{e.addItemWithTitle("Default Style");for(var n=0;n<a.length;n++)e.addItemWithTitle(a[n].name())}else{e.addItemWithTitle("Default Style");for(var o=0;o<a.length;o++)e.addItemWithTitle(a[o].name())}}function f(e,t,r,a,i,n){var l=NSTextField.alloc().initWithFrame(NSMakeRect(r,a,i,n));return l.setStringValue(e),l.setSelectable(!1),l.setDrawsBackground(!1),l.setBezeled(!1),0==t&&(l.textColor=NSColor.disabledControlTextColor()),l}function v(e,t,r,a,i,n){var l=NSButton.alloc().initWithFrame(NSMakeRect(r,a,i,n));l.setButtonType(NSSwitchButton),l.setBezelStyle(0),l.setTitle(e);var o=s.settingForKey(t);return l.setState(o),l}},"./src/utilities/styling.js":
/*!**********************************!*\
  !*** ./src/utilities/styling.js ***!
  \**********************************/
/*! exports provided: styleLine, getLayerStyles */function(e,r,a){"use strict";a.r(r),a.d(r,"styleLine",function(){return n}),a.d(r,"getLayerStyles",function(){return l});a(/*! sketch */"sketch");var i="flowArrows";function n(e,r,a){var n;if(null!=r)if(null!=l(r,a)&&"Default Style"!=r){n=r;var o=l(r,a);e.sharedStyle=o[0]}else{n="Default Style";var s=e.style().addStylePartOfType(1);s.color=MSColor.colorWithRGBADictionary({r:.89,g:.89,b:.89,a:1}),s.thickness=2,e.style().endMarkerType=2}else if(null!=t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",a,i)&&"Default Style"!=t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",a,i))n=l(t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",a,i),a),e.sharedStyle=n[0],n=n[0].name();else{n="Default Style";var u=e.style().addStylePartOfType(1);u.color=MSColor.colorWithRGBADictionary({r:.89,g:.89,b:.89,a:1}),u.thickness=2,e.style().endMarkerType=2}return n}function l(e,t){for(var r=t.allLayerStyles(),a=[],i=0;i<r.count();i++)null==e?r[i].name().includes("$arrow")&&a.push(r[i]):r[i].name()==e&&a.push(r[i]);return a}},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("sketch")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/ui")}});"default"===e&&"function"==typeof r?r(t):r[e](t)}that.settings=__skpm_run.bind(this,"settings"),that.onRun=__skpm_run.bind(this,"default");